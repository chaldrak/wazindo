<app-header-one [class]="'header-gym'" [themeLogo]="themeLogo"></app-header-one>

<div class="container-fluid page-body-wrapper">
    <div class="main-panel">
        <div class="container mt-3">

            <!-- DEBUT creer liste de diffusion -->
            <div class="card">
                <div class="card-header">
                    <div class="row justify-content-md-center bg">
                     
                        <div class="mt-3 ml-3">
                            <h2 class="liste"> Création d'une liste de diffusion</h2>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleInputUsername2">Nom de la liste de diffusion</label>
                        <input type="text" class="form-control" id="exampleInputUsername2" [(ngModel)]="diffusion.nom_diffusion"
                            placeholder="Nom de la liste de diffusion" />
                    </div>
                </div>
                <div class="card-body">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="card">
                            <div class="card-header finance">
                                <div class="row">
                                    <div class="col-sm-6">
                                        Liste des Contacts
                                    </div>
                                    <div class="col-sm-6 text-right">
                                        <button type="button" class="btn btn-primary mr-1"
                                            (click)="open(content)">
                                            <i class=" fa fa-plus"></i>
                                            &nbsp;Ajouter
                                        </button>
                                    </div>
                                </div>

                            </div>
                            <div class="table-responsive ">
                                <table class="table table-bordered table-striped table-md">
                                    <thead class="thead">
                                        <tr>
                                            <th>#</th>
                                            <th>Nom</th>
                                            <th>Téléphone</th>
                                            <th>Adresse Email</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngIf="listContactDiffusion.length === 0">
                                            <td colspan="7" class="text-center alert alert-info"> Aucun contact ajouté</td>
                                        </tr>
                                        <tr *ngFor="let item of listContactDiffusion; let i=index;">
                                            <td>{{i+1}}</td>
                                            <td>{{item.nom}}</td>
                                            <td>{{item.telephone}}</td>
                                            <td>{{item.email}}</td>
                                            <td> <button type="button" class="btn btn-danger mr-1"
                                                    (click)="deleteContactDiffusion(i)">
                                                    <i class="fa fa-trash"></i>
                                                </button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div></div>
                <ng-template #content let-modal>

                    <div class="modal-header" style="background-color:#3d72f1; color:white;">
                        <h4 class="modal-title" id="modal-basic-title">Ajout de Contact</h4>
                        <button type="button" class="close" (click)="modal.dismiss('Cross click')"
                            aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">

                        <form>
                            <div class="row">
                                <div class="col-sm-12">

                                    <div class="form-group">
                                        <label for="nom">Nom</label>
                                        <input type="texte" id="nom" name="nom"
                                            [(ngModel)]="diffusion.nom" class="form-control"
                                            placeholder="nom du contact">
                                    </div>

                                </div>
                                <div class="col-sm-12">

                                    <div class="form-group">
                                        <label for="tel">Téléphone</label>
                                        <input type="texte" id="tel" name="tel"
                                            [(ngModel)]="diffusion.telephone" class="form-control"
                                            placeholder="téléphone du contact">
                                    </div>

                                </div>
                                <div class="col-sm-12">

                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="texte" id="email" name="email"
                                            [(ngModel)]="diffusion.email" class="form-control"
                                            placeholder="Email du contact">
                                    </div>

                                </div>
                          
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light" (click)="modal.dismiss('Cross click')"><i
                                class="fa fa-close"></i>
                            &nbsp;Annuler</button>
                        <button type="button" class="btn btn-couleur" (click)="saveDetailDiffusion()"> <i
                                class="fa fa-save"></i>&nbsp;Ajouter</button>
                    </div>
                </ng-template>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" (click)="saveDiffusion()"><i
                            class=" fa fa-save"></i>
                        &nbsp;Enregistrer</button>
                </div>
              
            </div>
        </div>
    </div>
</div>



<app-footer-three [class]="'bg-img-gym bg-size'" [themeLogo]="themeLogo"></app-footer-three>

<!-- FIN liste de difusion -->