<app-header-one [class]="'header-gym'" [themeLogo]="themeLogo"></app-header-one>


<div class="container-fluid page-body-wrapper">
    <div class="main-panel">
        <div class="container mt-3">
            <div class="card">
                <div class="card-header">
                    <div class="row justify-content-md-center bg">
                      
                        <div class="mt-3 ml-3">
                            <h2 class="liste"> Proposer un projet</h2>
                        </div>
                    </div>

                </div>
                <div class="text-right mt-3">
                    <button class="btn btn-light mr-2 mdi mdi-close-circle-outline" (click)="goToBack()">  Annuler</button>
                    <button type="submit" class="btn mr-2 btn-primary btn-special-primary mdi mdi-send soumet" (click)="savePropositionProjet()"> Soumettre </button>

                </div>
                <div class="card-body">
                    <div class="row">
                       <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label" maxlength="600">Identité du Porteur </label>
                                <div class="col-sm-8">
                                    <input type="text" readonly class="form-control" [(ngModel)]="dataUserIdentite" />
                                </div>
                            </div>
                        </div>
                       

                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Catégorie du Projet</label>
                                <div class="col-sm-8">
                                    <select class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Selectionner une catégorie" [(ngModel)]="projet.categorie">
                                  <option value="" selected>Sélectionner une Catégorie</option>
                                  <option value="{{item.id}}"   *ngFor="let item of categorieList">{{item.nom}}</option>
            
                                </select>
                                </div>
                            </div>
                        </div>



                    </div>
                    <div class="row">

                          <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Adresse Email Porteur</label>
                                <div class="col-sm-8">
                                    <input type="text" readonly class="form-control" [(ngModel)]="projet.email" />
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Montant à collecter (En FCFA)</label>
                                <div class="col-sm-8">
                                    <input type="number" class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Saisir un montant à collecter" [(ngModel)]="projet.montant_collecter" />
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
					 <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Type d'organisation</label>
                                <div class="col-sm-8">
                                    <select class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Selectionner une organisation" [(ngModel)]="projet.type_organisation">
                                  <option value="" >Sélectionner une organisation</option>
                                  <option value="{{item.id}}"   *ngFor="let item of organisationList">{{item.nom}}</option>
            
                                </select>
                                </div>
                            </div>
                        </div>
                     

                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Durée (en jours) </label>
                                <div class="col-sm-8">
                               <select class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Selectionner une durée" [(ngModel)]="projet.duree_campagne">
                                  <option value="" >Sélectionner une durée</option>
                                  <option value="{{d}}" *ngFor="let d of listDurees">{{d}} jours</option>
                                </select>									
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Titre du Projet </label>
                                <div class="col-sm-8">
                                    <input type="text" maxlength="600" class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Saisir un title du projet" [(ngModel)]="projet.titre_projet" />
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label" maxlength="600">Description du projet (600 caractères maximum)</label>
                                <div class="col-sm-8">
                                    <textarea maxlength="600" class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Saisir une description du projet" [(ngModel)]="projet.description_projet"></textarea>
                                      <div class=" note">({{getRemainingDescriptionCharacters()}} caractères restants)</div>
								</div>
								
                            </div>
                        </div>



                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label">Pays</label>
                                <div class="col-sm-8">
                                    <select class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Selectionner un pays" [(ngModel)]="projet.pays" (ngModelChange)="checkPays()">
                                  <option value="" >Sélectionner un Pays</option>
                                  <option value="{{item.id}}"   *ngFor="let item of paysList">{{item.nom}}</option>
                                  
                                </select>

                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="form-group row">
                                <label class="col-sm-4 col-form-label" maxlength="600">Contreparties(600 caractères maximum)</label>
                                <div class="col-sm-8">
                                    <textarea maxlength="600" class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Saisir une contrepartie" [(ngModel)]="projet.contrepartie"> </textarea>
                                   <div class=" note">({{getRemainingContrepartieCharacters()}} caractères restants)</div>
								</div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row" *ngIf="isLocal">
                                <label class="col-sm-4 col-form-label">Département</label>

                                <div class="col-sm-8">
                                    <select class="form-control" [(ngModel)]="projet.departement" data-bs-toggle="tooltip" data-bs-placement="top" title="Selectionner un departement" (ngModelChange)="getListCommuneByDepartement()">
                                  <option value="" >Sélectionner un Département</option>
                                  <option value="{{item.id}}"   *ngFor="let item of departementList">{{item.nom}}</option>
                                 
                                </select>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-6">
                         
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group row" *ngIf="isLocal">
                                <label class="col-sm-4 col-form-label">Commune</label>

                                <div class="col-sm-8">
                                    <select class="form-control" data-bs-toggle="tooltip" data-bs-placement="top" title="Selectionner une commune" [(ngModel)]="projet.commune">
                                  <option value="" >Sélectionner une Commune</option>
                                  <option value="{{item.id}}"   *ngFor="let item of communeList">{{item.nom}}</option>
            
                                </select>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>


            <!-- <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
                <p style="font-size: 20px; color: white">Veuillez patienter...</p>
            </ngx-spinner> -->

        <app-footer-three [class]="'bg-img-gym bg-size'" [themeLogo]="themeLogo" ></app-footer-three>
